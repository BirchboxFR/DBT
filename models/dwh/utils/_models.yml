version: 2

models:
  - name: metricflow_time_spine
    description: |
      Time spine pour MetricFlow / Semantic Layer.
      Table de référence contenant toutes les dates de 2015 à 2030.
      Utilisée par le semantic layer pour les agrégations temporelles.
    config:
      # Indique à dbt que c'est le time spine pour MetricFlow
      meta:
        is_metricflow_time_spine: true
    columns:
      - name: date_day
        description: "Date unique (granularité jour)"
        tests:
          - unique
          - not_null
      - name: year
        description: "Année (ex: 2024)"
      - name: month
        description: "Mois (1-12)"
      - name: day
        description: "Jour du mois (1-31)"
      - name: quarter
        description: "Trimestre (1-4)"
      - name: day_of_week
        description: "Jour de la semaine (1-7, dimanche=1)"
      - name: day_of_year
        description: "Jour de l'année (1-366)"
      - name: year_month
        description: "Année-mois au format YYYY-MM"
      - name: year_quarter
        description: "Année-trimestre au format YYYY-Q1"
